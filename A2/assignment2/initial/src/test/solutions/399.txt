Program([FuncDecl(Id(main),[],VoidType,Block([VarDecl(max_len,IntType),BinaryOp(=,Id(max_len),IntLiteral(50)),VarDecl(str,ArrayType(StringType,50)),VarDecl(ch,StringType),VarDecl(i,IntType),BinaryOp(=,Id(i),IntLiteral(0)),CallExpr(Id(printf),[StringLiteral(Enter a string, %d chars max: ),Id(max_len)]),Dowhile([BinaryOp(=,Id(ch),CallExpr(Id(getchar),[])),BinaryOp(=,ArrayCell(Id(str),Id(i)),Id(ch)),BinaryOp(=,Id(i),BinaryOp(+,Id(i),IntLiteral(1)))],BinaryOp(!=,Id(ch),StringLiteral(\n))),BinaryOp(=,ArrayCell(Id(str),Id(i)),StringLiteral(NULL)),CallExpr(Id(printf),[StringLiteral(Line: %s),Id(str)])]))])